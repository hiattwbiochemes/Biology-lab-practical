<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Population Data Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input {
            margin-left: 10px;
        }
        button {
            margin-top: 15px;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 5px;
        }
        table {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h2>Population Data Generator</h2>

<label>Starting Population: 
    <input id="startPop" type="number" value="50">
</label>

<label>Birth Rate (0–1): 
    <input id="birthRate" type="number" value="0.3" step="0.01">
</label>

<label>Death Rate (0–1): 
    <input id="deathRate" type="number" value="0.1" step="0.01">
</label>

<label>Number of Seasons:
    <input id="seasons" type="number" value="10">
</label>

<button onclick="generateData()">Generate Data</button>

<div id="output"></div>

<script>
function generateData() {
    let population = parseFloat(document.getElementById("startPop").value);
    const birthRate = parseFloat(document.getElementById("birthRate").value);
    const deathRate = parseFloat(document.getElementById("deathRate").value);
    const seasons = parseInt(document.getElementById("seasons").value);

    const hiddenK = 300;  // internal carrying capacity

    let results = [];

    for (let season = 1; season <= seasons; season++) {

        // Stronger density dependence to guarantee leveling off
        const logisticFactor = 1 - (population / hiddenK);

        // Adjust so growth reverses strongly when above K
        const densityPenalty = (population / hiddenK) * 0.4 * population;

        // Core population change
        let newPopulation =
            population
            + (birthRate * population * logisticFactor)
            - (deathRate * population)
            - densityPenalty
            + ((Math.random() - 0.5) * 30); // more noise for oscillation

        // Prevent extinction
        if (newPopulation < 1) newPopulation = 1;

        population = Math.round(newPopulation);

        results.push(population);
    }

    let tableHTML = "<table><tr><th>Season</th><th>Population</th></tr>";
    results.forEach((pop, index) => {
        tableHTML += `<tr><td>${index + 1}</td><td>${pop}</td></tr>`;
    });
    tableHTML += "</table>";

    document.getElementById("output").innerHTML = tableHTML;
}
</script>

</body>
</html>
